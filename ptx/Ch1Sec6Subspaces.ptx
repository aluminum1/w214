

<section xml:id="Ch1Sec6Subspaces">
  <title>Subspaces</title>
  <p>
    The notion of a subspace will allow us to quickly establish many more examples of vector spaces.
  </p>

  <definition xml:id="defn-subspace">
    <statement>
      <p>
        A subset <m>U \subseteq V</m> of a vector space <m>V</m> is called a
        <term>subspace of <m>V</m></term> if:

        <ul>
          <li>
            <p>
              For all <m>\ve{u}, \ve{u}' \in U</m>,
              <m>\ve{u}+\ve{u}' \in U</m>
            </p>
          </li>

          <li>
            <p>
              <m>\ve{0} \in U</m>
            </p>
          </li>

          <li>
            <p>
              For all scalars <m>k</m> and all vectors <m>\ve{u} \in U</m>,
              <m>k \smul\ve{u} \in U</m>
            </p>
          </li>
        </ul>
      </p>
    </statement>
  </definition>

  <lemma xml:id="subspace_lem">
    <statement>
      <p>
        If <m>U</m> is a subspace of a vector space <m>V</m>,
        then <m>U</m> is also a vector space,
        when we equip it with the same addition operation,
        zero vector and scalar multiplication as in <m>V</m>.
      </p>
    </statement>
  </lemma>

  <proof>
    <p>
      Since <m>U</m> is a subspace,
      we know that it actually makes sense to
      <q>equip it with the same addition operation,
      zero vector and scalar multiplication as in <m>V</m></q>.
      (If <m>U</m> was <em>not</em> a subspace,
      then we might have for instance
      <m>\ve{u}, \ve{u}' \in U</m> but <m>\ve{u}+\ve{u}' \notin U</m>,
      so the addition operation would not make sense.)
    </p>

    <p>
      So we simply need to check the rules R1 to R8.
      Since these rules hold for all vectors <m>\ve{u}, \ve{v}, \ve{w}</m> in <m>V</m>,
      they certainly hold for all vectors <m>\ve{u}, \ve{v}, \ve{w}</m> in <m>U</m>.
      So R1 to R8 are satisfied.
    </p>
  </proof>

  <example>
    <title>Line in <m>\mathbb{R}^2</m></title>
    <statement>
    <p>
      A line <m>L</m> through the origin in
      <m>\mathbb{R}^2</m> is a subspace of <m>\mathbb{R}^2</m>:
    </p>
    <sidebyside>
      <figure xml:id="line-through-origin-R2-example">
      <caption>A line through the origin in <m>\mathbb{R}^2</m>.</caption>
      <image width="50%">
      <latex-image>
          <![CDATA[\begin{tikzpicture}\draw[<->] (-2, 0) -- (2,0) node[below] {$x$};
  \draw[<->] (0, -2) -- (0, 2) node[right] {$y$};
  \draw[thick, red] (-2, -1) -- (2, 1) node[below] {$L$};\end{tikzpicture}]]>
      </latex-image>
      </image>
      </figure>
  </sidebyside>
    
    <p>
      Indeed, recall that <m>L</m> can be specified by a homogenous linear equation of the form:
      <men xml:id="eqn_of_L">
        L = \{ (x,y) \in \mathbb{R}^2 : ax + by = 0 \}
      </men>
      for some constants <m>a</m> and <m>b</m>.
      So, if <m>\ve{v} = (x, \, y)</m> and <m>\ve{v}' = (x', \, y')</m> lie on <m>L</m>,
      then their sum <m>\ve{v} + \ve{v}' = (x + x', \, y + y')</m> also lies on <m>L</m>,
      because its components satisfy the defining equation <xref ref="eqn_of_L" />:
      <md>
        <mrow>\amp a(x + x') + b (y + y')</mrow>
        <mrow>\amp  = (ax + by) + (ax' + by')</mrow>
        <mrow>\amp = 0 + 0 \amp \amp  \mbox{(since \(ax + by = 0\) and \(ax' + by' = 0\))}</mrow>
        <mrow>\amp = 0</mrow>
      </md>.
    </p>

    <p>
      This also makes sense geometrically:
      if you look at the picture, then you will see that adding two vectors
      <m>\ve{v}, \ve{v}'</m> on <m>L</m> by the head-to-tail method will produce another vector on <m>L</m>.
    </p>


    </statement>
  </example>

     <exercise>
      <statement>
        <p>
          Complete the proof that <m>L</m> is a subspace of
          <m>\mathbb{R}^2</m> by checking that the zero vector is in <m>L</m>,
          and that multiplying a vector in <m>L</m> by a scalar outputs a vector still in <m>L</m>.
        </p>
      </statement>
    </exercise>

  <example>
    <title>Lines and planes in <m>\mathbb{R}^3</m></title>
    <statement>
      <p>
        Similarly a line <m>L</m> or a plane <m>P</m> through the origin in
        <m>\mathbb{R}^3</m> is a subspace of <m>\mathbb{R}^3</m>:
        <sidebyside width="40%">
        <figure xml:id="line-in-R3-example-subspace">
          <caption>A line through the origin in <m>\mathbb{R}^3</m>.</caption>
          <image>
          <latex-image>
          <![CDATA[
          \begin{tikzpicture}
            \draw[->] (0, 0) -- (2,0) node[right] {$y$};
            \draw[->] (0, 0) -- (0, 2) node[above] {$z$};
            \draw[->] (0,0) -- (-0.7, -0.8) node[below left] {$x$};
            \draw[thick, red] (-2, 1) node[above] {$L$} -- (2, -1);
          \end{tikzpicture}
          ]]>
          </latex-image>
          </image>
        </figure>

        <figure xml:id="plane-in-R3-example-subspace">
          <caption>A plane through the origin in <m>\mathbb{R}^3</m>.</caption>
          <image>
          <latex-image>
          <![CDATA[
          \begin{tikzpicture}
            \draw[->] (0, 0) -- (2,0) node[right] {$y$};
            \draw[->] (0, 0) -- (0, 2) node[above] {$z$};
            \draw[->] (0,0) -- (-0.7, -0.8) node[below left] {$x$};
            \draw[thick, red] (-0.1, -1) -- (-1, 0.4);
            \draw[thick, red] (-1, 0.4) -- (0.3, 1.5);
            \draw[thick, red] (0.3, 1.5) -- node[above right] {$P$} (1.5, 0.4);
            \draw[thick, red] (1.5, 0.4) -- (-0.1, -1);
          \end{tikzpicture}
          ]]>
          </latex-image>
          </image>
        </figure>
        </sidebyside>
      </p>
    </statement>
  </example>

  <example>
    <title>Zero vector space</title>
    <statement>
    <p>
      If <m>V</m> is a vector space,
      the the set <m>\{\ve{0}\} \subseteq V</m> containing just the zero vector <m>\ve{0}</m> is a subspace of <m>V</m>.
    </p>



    </statement>
  </example>

     <exercise>
      <statement>
        <p>
          Check this.
        </p>
      </statement>
    </exercise>

  <example>
    <title>Non-example: Line not through origin</title>
    <statement>
      <p>
        Be careful though <mdash /> not <em>every</em>
        line <m>L \subset \mathbb{R}^2</m> is a subspace of <m>\mathbb{R}^2</m>.
        If <m>L</m> does not go through the origin,
        then <m>\ve{0} \notin L</m>, so <m>L</m> is not a subspace.
      </p>

      <p>
        Another reason that <m>L</m> is not a subspace is that it is not closed under addition:
        when we add two nonzero vectors <m>\ve{v}</m> and <m>\ve{v}'</m> on <m>L</m>,
        we end up with a vector <m>\ve{v} + \ve{v}'</m> which does not lie on <m>L</m>:
        <sidebyside>
          <figure xml:id="line-not-through-origin-non-example">
            <caption>A line which does not pass through the origin is not closed under addition.</caption>
            <image>
            <latex-image>
              <![CDATA[
              \begin{tikzpicture}
                \draw[<->] (-2, 0) -- (2,0) node[below] {$x$};
                \draw[<->] (0, -2) -- (0, 2) node[right] {$y$};
                \draw[thick, red] (-2, -0.5) -- (2, 1.5) node[below] {$L$};
                \draw[very thick, blue, ->] (0,0) -- node[left] {$\ve{v}$} (0.5, 0.75);
                \draw[very thick, blue, ->] (0,0) -- node[right] {$\ve{v}'$} (1, 1);
                \draw[very thick, blue, ->] (0.5,0.75) -- node[above left] {$\ve{v}'$} (1.5, 1.75) node[above right] {$\ve{v} + \ve{v}'$};
              \end{tikzpicture}
              ]]>
            </latex-image>
            </image>
        </figure>
      </sidebyside>
      </p>
    </statement>
  </example>

  <example>
    <title>Continuous functions as a subspace</title>
    <statement>
      <p>
        The set
        <me>
          \Cont(I) := \{ \ve{f}: I \rightarrow \mathbb{R}, \, \ve{f} \mbox{ continuous}  \}
        </me>
        of all continuous functions on an interval <m>I</m> is a subspace of the set <m>\Fun(I)</m> of
        <em>all</em> functions on <m>I</m>.
        Let us check that it satisfies the definition.
        You know from earlier courses that:

        <ul>
          <li>
            <p>
              If <m>\ve{f}</m> and <m>\ve{g}</m> are continuous functions on <m>I</m>,
              then <m>\ve{f} + \ve{g}</m> is also a continuous function.
            </p>
          </li>

          <li>
            <p>
              The zero function <m>{0}</m> defined by
              <m>\ve{0}(x) = 0</m> for all <m>x \in I</m> is a continuous function.
            </p>
          </li>

          <li>
            <p>
              If <m>\ve{f}</m> is a continuous function,
              and <m>k</m> is a scalar, then <m>k \smul\ve{f}</m> is also continuous.
            </p>
          </li>
        </ul>
      </p>

      <p>
        Hence, by <xref ref="subspace_lem">Lemma</xref>,
        <m>\Cont(I)</m> is a vector space in its own right.
      </p>
    </statement>
  </example>

  <example>
    <title>Differentiable functions as a subspace</title>
    <statement>
    <p>
      Similarly, the set
      <me>
        \Diff(I) := \{ \ve{f}: I \rightarrow \mathbb{R}, \, \ve{f} \mbox{ differentiable}  \}
      </me>
      of differentiable functions on an open interval <m>I</m> is a <xref ref="defn-subspace" text="title">subspace</xref> of <m>\Fun (I)</m>.
    </p>



    </statement>
  </example>

   <exercise>
      <statement>
        <p>
          Check this.
          Also, is <m>\Diff( I)</m> a subspace of <m>\Cont(I)</m>?
        </p>
      </statement>
    </exercise>

  <example>
    <title>Vector spaces of polynomials</title>
    <statement>
    <p>
      A <em>polynomial</em> is a function <m>\ve{p} : \mathbb{R} \rightarrow \mathbb{R}</m> of the form
      <men xml:id="formula_poly">
        \ve{p}(x) = a_n x^n + a_{n-1}x^{n-1} + \cdots + a_1 x + a_0
      </men>.
      for some fixed real coefficients <m>a_0, \ldots, a_n</m>.
      Two polynomials <m>\ve{p}</m> and <m>\ve{q}</m> are <em>equal</em>
      if they are equal <em>as functions</em>,
      that is if <m>\ve{p}(x) = \ve{q} (x)</m> for all <m>x \in \mathbb{R}</m>.
      The <em>degree</em> of a polynomial is the highest power of <m>x</m> which occurs in its formula.
    </p>

    <p>
      For example,
      <m>2x^3 - x + 7</m> is a polynomial of degree 3, while <m>x^5 - 2</m> is a polynomial of degree 5.
      We write the set of <em>all</em>
      polynomials as <m>\Poly</m> and the set of all polynomials having degree less than or equal to <m>n</m> as <m>\Poly_n</m>.
    </p>



    </statement>
  </example>

    <exercise>
      <statement>
        <p>
          Check that <m>\Poly</m> and <m>\Poly_n</m> are subspaces of <m>\Cont (\mathbb{R})</m>.
        </p>
      </statement>
    </exercise>

  <example xml:id="trig_poly_example">
    <title>Trigonometric polynomials</title>
    <statement>
    <p>
      A <em>trigonometric polynomial</em>
      is a function <m>\ve{T} : \mathbb{R} \rightarrow \mathbb{R}</m> of the form
      <men xml:id="formula_for_trig_poly">
        \ve{T} (x) = a_0 + \sum_{k=1}^n a_k \cos(kx) + \sum_{k=1}^n b_k \sin(kx).
      </men>
    </p>

    <p>
      The <em>degree</em> of a trigonometric polynomial is the highest multiple of <m>x</m> which occurs inside one of the sines or cosines in its formula.
      For instance,
      <me>
        3 - \cos(x) + 6 \sin(3x)
      </me>
      is a trigonometric polynomial of degree 3.
      We write the set of <em>all</em>
      trigonometric polynomials as <m>\Trig</m> and the set of all trigonometric polynomials having degree less than or equal to <m>n</m> as <m>\Trig_n</m>.
    </p>

    </statement>
  </example>


  <exercise>
      <statement>
        <p>
          Show that <m>\Trig</m> and <m>\Trig_n</m> are subspaces of <m>\Cont (\mathbb{R})</m>.
        </p>
      </statement>
    </exercise>

    <exercise xml:id="trig_ex_early">
      <statement>
        <p>
          Consider the function <m>\ve{f} (x) = \sin^3(x)</m>.
          Show that <m>\ve{f} \in \Trig_3</m> by writing it in the form <xref ref="formula_for_trig_poly" />.
          Hint: use the identities
          <md>
            <mrow>\sin(A) \sin(B) \amp = \frac{1}{2}(\cos(A-B) - \cos(A+B))</mrow>
            <mrow>\sin(A) \cos(B) \amp = \frac{1}{2}(\sin(A-B) + \sin(A+B))</mrow>
            <mrow>\cos(A)\cos(B) \amp = \frac{1}{2}(\cos(A-B) + \cos(A+B))</mrow>
          </md>
          which follow easily from the addition formulae
          <md>
            <mrow>\sin(A \pm B) \amp = \sin A \cos B \pm \cos A \sin B</mrow>
            <mrow>\cos(A \pm B) \amp = \cos A \cos B \mp \sin A \sin B</mrow>
          </md>.
        </p>
      </statement>
    </exercise>

  <example>
    <title>Solutions to linear differential equations</title>
    <statement>
    <p>
      Fix constants <m>a,b</m> and <m>c</m>.
      Let <m>V \subseteq \Diff(\mathbb{R})</m> be the set of all solutions to the following differential equation:
      <me>
        a \frac{d^2f}{dx^2} + b \frac{df}{dx} + cf = 0
      </me>
      To be completely explicit, let us consider the ordinary differential equation
      <men xml:id="explicit_diff_eq">
    5y^{\prime \prime} + y^\prime - 3y = 0.
      </men>
      You can use methods learnt in first year to show that
      <me>
y_1 = e^{-\frac{1}{10}(1 + \sqrt{61})x}, \quad y_2 = e^{\frac{1}{10}(-1 + \sqrt{61})x}
    </me>
    are two solutions to <xref ref="explicit_diff_eq"/>.
    </p>
    <p>
Use the sage script below to check if linear combinations of <m>y_1</m> and <m>y_2</m> also solves the ODE.
    </p>
    </statement>
  </example>

<sage>
  <input>
y1 = e^(-1/10*x*(sqrt(61) + 1))
y2 = e^(1/10*x*(sqrt(61) - 1))

def solves_de(f):
 return bool(5*diff(diff(f,x),x) + diff(f,x) - 3*f == 0)
</input>
</sage>

   <exercise>
      <statement>
        <p>
          Show that <m>V</m> is a subspace of <m>\Diff(\mathbb{R})</m>.
        </p>
      </statement>
    </exercise>

    <example xml:id="non_example_nonlinear_ode">
        <title>A non-example: Solutions to a nonlinear ODE</title>
        <statement>
          <p>
            We saw in the previous example that linear ordinary differential equations are well-behaved - a linear combination of solutions is still a solution. This need not occur in the nonlinear case. For example, consider the nonlinear ODE
            <men xml:id="explicit_nonlinear_ode">
y^\prime = y^2.
          </men>
This equation has a family of solutions given by
<me>
y_c = \frac{1}{c - x}
</me> where <m>c</m> is a constant.
          </p>
          <p>
            Use the sage script below to check whether linear combinations of the <m>y_c</m>'s solves <xref ref ="explicit_nonlinear_ode"/>
          </p>
        </statement>
    </example>
    <sage>
  <input>
y = function('y')(x)

def solves_de(f):
 return bool(diff(f,x) - f^2 == 0)
</input>
</sage>



<exercises>
  <exercise>
    <statement>
      <p>
        Show that the set
        <me>
          V := \{ (a, -a, b, -b) : a, b \in \mathbb{R} \}
        </me>
        is a subspace of <m>\mathbb{R}^4</m>.
      </p>
    </statement>
  </exercise>

  <exercise>
    <statement>
      <p>
        Show that the set
        <me>
          V := \{ \mbox{polynomials of the form }  \ve{p}(x) = ax^3 + bx^2 - cx + a, \, a,b,c \in \mathbb{R}\}
        </me>
        is a subspace of <m>\Poly_3</m>.
      </p>
    </statement>
  </exercise>

  <exercise>
    <statement>
      <p>
        Let <m>b \in \mathbb{R}</m>.
        Prove that
        <me>
          V := \{ (x_1, \, x_2, \, x_3) \in \mathbb{R}^3 : 2x_1 - 3x_2 + 5x_3 = b \}
        </me>
        is a subspace of <m>\mathbb{R}^3</m> if and only if <m>b=0</m>.
      </p>
    </statement>
  </exercise>

  <exercise>
    <statement>
      <p>
        Consider the set
        <me>
          V := \{ \mathbf{f} \in \Diff((-1, 1)) : f'(0) = 2 \}
        </me>
      </p>

      <p>
        Is <m>V</m> a subspace of <m>\Diff((-1,1))</m>?
        If you think it is, <em>prove</em> that it is.
        If you think it is not, <em>prove</em> that it is not!
      </p>
    </statement>
  </exercise>

  <exercise>
    <statement>
      <p>
        Consider the set
        <me>
          V := \{ (x_1, \, x_2, \, x_3, \, \ldots) \in \mathbb{R}^\infty : \lim_{n \rightarrow \infty} x_n = 0 \}
        </me>
      </p>

      <p>
        Is <m>V</m> a subspace of <m>\mathbb{R}^\infty</m>?
        If you think it is, <em>prove</em> that it is.
        If you think it is not, <em>prove</em> that it is not!
      </p>
    </statement>
  </exercise>

  <exercise>
    <statement>
      <p>
        Is <m>\mathbb{R}^+ := \{ \ve{x} \in \mathbb{R} : \ve{x} \geq 0 \}</m> a subspace of <m>\mathbb{R}</m>?
        If you think it is, <em>prove</em> that it is.
        If you think it is not, <em>prove</em> that it is not!
      </p>
    </statement>
  </exercise>

  <exercise>
    <statement>
      <p>
        Give an example of a nonempty subset <m>U</m> of
        <m>\mathbb{R}^2</m> which is closed under addition and under taking additive inverses (i.e. if <m>\ve{u}</m> is in <m>U</m> then <m>-\ve{u}</m> is in <m>V</m>),
        but <m>U</m> is not a subspace of <m>\mathbb{R}^2</m>.
      </p>
    </statement>
  </exercise>

  <exercise>
    <statement>
      <p>
        Give an example of a nonempty subset <m>V</m> of
        <m>\mathbb{R}^2</m> which is closed under scalar multiplication,
        but <m>V</m> is not a subspace of <m>\mathbb{R}^2</m>.
      </p>
    </statement>
  </exercise>

<exercisegroup>
  <introduction>
<p>The next 4 exercises will help acquaint the reader with the concept of the <emp>sum of two subspaces</emp>. First, we'll need a definition.</p>

<definition xml:id="def_sum_subspace">
  <statement>
    <p>
Let <m>V</m> be a vector space. Suppose <m>U</m> and <m>W</m> are two subspaces of <m>V</m>. The sum <m>U + W</m> of <m>U</m> and <m>W</m> is defined by
<me>
U + V  = \{ \ve u + \ve w \in V \, : \, \ve u \in U, \ve w \in W \}
</me>
</p>
</statement>
</definition>
<p>
  In the exercises below, <m>V,U,W</m> will be as above.
</p>
</introduction>
<exercise>
    <statement>
      <p>
      Show that <m>U + V</m> is a subspace of <m>V</m>.
    </p>
    </statement>
  </exercise>

  <exercise>
    <statement>
      <p>
      Show that  <m>U + V</m> is, in fact, the smallest subspace of <m>V</m> containing both <m>U</m> and <m>V</m>.
    </p>
    </statement>
  </exercise>

   <exercise>
    <statement>
      <p>
      If <m>W \subset U</m> what is <m>U + W</m>?
    </p>
    </statement>
  </exercise>

   <exercise>
    <statement>
      <p>
      Can you think of two subspaces of <m>\mathbb{R}^2</m> whose sum is <m>\mathbb{R}^2</m>? Similarly, can you think of two subspaces of <m>\mathbb{R}^2</m> whose sum is <emp>not</emp> all of <m>\mathbb{R}^2</m>?
    </p>
    </statement>
  </exercise>
</exercisegroup>
</exercises>


</section>

